#!/bin/bash

VENDOR=ulefone
DEVICE=t1
OUTDIR=${bdir}/vendor/$VENDOR/$DEVICE
AMAKE=${OUTDIR}/Android.mk
VMAKE=${OUTDIR}/VendorBoardConfig.mk
BMAKE=${OUTDIR}/$DEVICE-vendor-blobs.mk
CMAKE=${OUTDIR}/$DEVICE-vendor.mk


echo "# Copyright (C) 2015 The CyanogenMod Project
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
# http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

# This file is generated by device/$VENDOR/$DEVICE/setup-makefiles.sh

PRODUCT_COPY_FILES += \\" >$BMAKE

echo "# Copyright \(C\) 2015 The CyanogenMod Project
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
# http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an \"AS IS\" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

# This file is generated by device/$VENDOR/$DEVICE/setup-makefiles.sh

\$(call inherit-product, vendor/$VENDOR/$DEVICE/$DEVICE-vendor-blobs.mk)
" >$CMAKE

echo "# Copyright (C) 2015 The CyanogenMod Project
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
# http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

# This file is generated by device/$VENDOR/$DEVICE/setup-makefiles.sh

PRODUCT_PACKAGES += \\
  libmtk_vtmal \\
  libmtk_pbb \\" >$VMAKE

echo "# Copyright (C) 2015 The CyanogenMod Project
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
# http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

# This file is generated by device/$VENDOR/$DEVICE/setup-makefiles.sh

LOCAL_PATH := \$(call my-dir)
DEVICE_PATH := \$(TOP)/device/$VENDOR/$DEVICE

\$(shell mkdir -p \$(OUT)/obj_arm/SHARED_LIBRARIES/libaudiopolicymanager_intermediates \$(OUT)/obj/SHARED_LIBRARIES/libaudiopolicymanager_intermediates \$(OUT)/obj_arm/lib \$(OUT)/obj/lib \$(OUT)/obj_arm/SHARED_LIBRARIES/libaudiopolicyservice_intermediates/LINKED \$(OUT)/obj/SHARED_LIBRARIES/libaudiopolicyservice_intermediates/LINKED \$(OUT)/obj/STATIC_LIBRARIES/lib_driver_cmd_mt66xx_intermediates/)
\$(shell touch \$(OUT)/obj_arm/SHARED_LIBRARIES/libaudiopolicymanager_intermediates/export_includes \$(OUT)/obj/SHARED_LIBRARIES/libaudiopolicymanager_intermediates/export_includes \$(OUT)/obj/STATIC_LIBRARIES/lib_driver_cmd_mt66xx_intermediates/export_includes)
\$(shell cp \$(DEVICE_PATH)/libwifi-hal-mt66xx/arm/libwifi-hal-mt66xx.a \$(OUT)/obj/STATIC_LIBRARIES/lib_driver_cmd_mt66xx_intermediates/lib_driver_cmd_mt66xx.a)
\$(shell cp \$(LOCAL_PATH)/proprietary/lib/libaudiopolicymanager.so \$(OUT)/obj_arm/SHARED_LIBRARIES/libaudiopolicyservice_intermediates/LINKED/)
\$(shell cp \$(LOCAL_PATH)/proprietary/lib64/libaudiopolicymanager.so \$(OUT)/obj/SHARED_LIBRARIES/libaudiopolicyservice_intermediates/LINKED/)
\$(shell cp -r \$(DEVICE_PATH)/lib_driver_cmd_mt66xx \$(TOP)/NOTICE-TARGET-STATIC_LIBRARIES-lib_driver_cmd_mt66xx)
\$(shell cp \$(LOCAL_PATH)/proprietary/lib/libaudiopolicymanager.so \$(OUT)/obj_arm/lib/)
\$(shell cp \$(LOCAL_PATH)/proprietary/lib64/libaudiopolicymanager.so \$(OUT)/obj/lib/)
\$(shell nm -B -D \$(LOCAL_PATH)/proprietary/lib64/libaudiopolicymanager.so > \$(OUT)/obj/lib/libaudiopolicymanager.so.toc)
\$(shell nm -B -D \$(LOCAL_PATH)/proprietary/lib/libaudiopolicymanager.so > \$(OUT)/obj_arm/lib/libaudiopolicymanager.so.toc)
#\$(shell mkdir -p \$(OUT)/obj_arm/SHARED_LIBRARIES/libvtmal_intermediates/ \$(OUT)/obj_arm/lib/ \$(OUT)/obj/STATIC_LIBRARIES/lib_driver_cmd_mt66xx_intermediates/)
#\$(shell touch \$(OUT)/obj/STATIC_LIBRARIES/lib_driver_cmd_mt66xx_intermediates/export_includes \$(OUT)/obj_arm/SHARED_LIBRARIES/libvtmal_intermediates/export_includes)
#\$(shell cp \$(DEVICE_PATH)/libwifi-hal-mt66xx/arm/libwifi-hal-mt66xx.a \$(OUT)/obj/STATIC_LIBRARIES/lib_driver_cmd_mt66xx_intermediates/lib_driver_cmd_mt66xx.a)
#\$(shell cp -r \$(DEVICE_PATH)/lib_driver_cmd_mt66xx \$(TOP)/NOTICE-TARGET-STATIC_LIBRARIES-lib_driver_cmd_mt66xx)
#\$(shell touch \$(OUT)/obj_arm/SHARED_LIBRARIES/libvtmal_intermediates/export_includes \$(OUT)/obj_arm/lib/libvtmal.so.toc)
#\$(shell mkdir -p \$(OUT)/obj_arm/SHARED_LIBRARIES/libaudiopolicymanager_intermediates/)
#\$(shell touch \$(OUT)/obj_arm/SHARED_LIBRARIES/libaudiopolicymanager_intermediates/export_includes)

include \$(CLEAR_VARS)
LOCAL_MODULE_CLASS := ETC
LOCAL_PROPRIETARY_MODULE := true
LOCAL_MODULE := egl
LOCAL_MODULE_PATH := system/vendor/lib/egl
LOCAL_SRC_FILES := proprietary/vendor/lib/egl/egl.cfg
LOCAL_MODULE_SUFFIX := .cfg
include \$(BUILD_PREBUILT)

include \$(CLEAR_VARS)
LOCAL_PROPRIETARY_MODULE := true
LOCAL_ALLOW_UNDEFINED_SYMBOLS := true
LOCAL_SRC_FILES := mtk/libmtk_vtmal.cpp
LOCAL_SHARED_LIBRARIES := libbinder libutils
LOCAL_MODULE_SUFFIX := .so
LOCAL_MODULE := libmtk_vtmal
LOCAL_CPPFLAGS := -std=c++1y -Wno-exit-time-destructors -Wno-global-constructors -Wno-c++98-compat-pedantic -Wno-four-char-constants -Wno-padded
LOCAL_C_EXPORT_INCLUDES := \$(DEVICE_PATH)/include
include \$(BUILD_SHARED_LIBRARY)
LINKER_FORCED_SHIM_LIBS := /system/vendor/lib/vtmal.so|libmtk_vtmal.so

include \$(CLEAR_VARS)
LOCAL_PROPRIETARY_MODULE := true
LOCAL_ALLOW_UNDEFINED_SYMBOLS := true
LOCAL_SRC_FILES := mtk/libmtk_pbb.cpp
LOCAL_SHARED_LIBRARIES := libbinder libutils
LOCAL_MODULE_SUFFIX := .so
LOCAL_MODULE := libmtk_pbb
LOCAL_CPPFLAGS := -std=c++1y -Wno-exit-time-destructors -Wno-global-constructors -Wno-c++98-compat-pedantic -Wno-four-char-constants -Wno-padded
include \$(BUILD_SHARED_LIBRARY)
LINKER_FORCED_SHIM_LIBS := /system/vendor/bin/program_binary_builder|libmtk_pbb.so
" >$AMAKE

./setup-vendor-libs.sh
./setup-vendor-apks.sh
./setup-vendor-blobs.sh
